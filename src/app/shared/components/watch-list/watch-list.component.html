<table mat-table matSort class="mat-elevation-z8" [dataSource]="dataSource">
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>name</th>
    <td mat-cell *matCellDef="let watch">
      <span class="name">
        {{watch.name}}
      </span>
    </td>
  </ng-container>
  <ng-container matColumnDef="value">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="header-align-right">value</th>
    <td mat-cell *matCellDef="let watch" [ngClass]="{'value-string': !watch.snapshots[watch.snapshots.length-1].isNumeric, 'value-number': watch.snapshots[watch.snapshots.length-1].isNumeric}">

        {{watch.snapshots[watch.snapshots.length-1].value}}

    </td>
  </ng-container>
  <ng-container matColumnDef="lastUpdated" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header>last updated</th>
    <td mat-cell *matCellDef="let watch">
      <span class="timestamp">
        {{watch.snapshots[watch.snapshots.length-1].timestamp.toLocaleTimeString()}}
      </span>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
